<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="581px" preserveAspectRatio="none" style="width:631px;height:581px;" version="1.1" viewBox="0 0 631 581" width="631px" zoomAndPan="magnify"><defs><filter height="300%" id="f1t2xeqfh2hejj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1t2xeqfh2hejj)" height="107.4063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="164.5" y="229.7188"/><rect fill="#FFFFFF" filter="url(#f1t2xeqfh2hejj)" height="46.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="302" y="136.3125"/><rect fill="#FFFFFF" filter="url(#f1t2xeqfh2hejj)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="302" y="260.0703"/><rect fill="#FFFFFF" filter="url(#f1t2xeqfh2hejj)" height="46.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="447.5" y="383.8281"/><rect fill="#FFFFFF" filter="url(#f1t2xeqfh2hejj)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="562" y="460.8828"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="25" x2="25" y1="87.6094" y2="492.8828"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="169" x2="169" y1="87.6094" y2="492.8828"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="307" x2="307" y1="87.6094" y2="492.8828"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="452" x2="452" y1="87.6094" y2="492.8828"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="567" x2="567" y1="87.6094" y2="492.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="29" x="8" y="84.5332">User</text><ellipse cx="25.5" cy="13" fill="#FEFECE" filter="url(#f1t2xeqfh2hejj)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M25.5,21 L25.5,48 M12.5,29 L38.5,29 M25.5,48 L12.5,63 M25.5,48 L38.5,63 " fill="none" filter="url(#f1t2xeqfh2hejj)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="29" x="8" y="506.416">User</text><ellipse cx="25.5" cy="519.4922" fill="#FEFECE" filter="url(#f1t2xeqfh2hejj)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M25.5,527.4922 L25.5,554.4922 M12.5,535.4922 L38.5,535.4922 M25.5,554.4922 L12.5,569.4922 M25.5,554.4922 L38.5,569.4922 " fill="none" filter="url(#f1t2xeqfh2hejj)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1t2xeqfh2hejj)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="130" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="137" y="72.5332">User Pool</text><rect fill="#FEFECE" filter="url(#f1t2xeqfh2hejj)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="130" y="491.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="137" y="513.416">User Pool</text><rect fill="#FEFECE" filter="url(#f1t2xeqfh2hejj)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="172" x="219" y="33.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="254" y="54.9238">Identity Provider</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="158" x="226" y="72.5332">(Facebook, Google, etc.)</text><rect fill="#FEFECE" filter="url(#f1t2xeqfh2hejj)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="172" x="219" y="491.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="254" y="513.416">Identity Provider</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="158" x="226" y="531.0254">(Facebook, Google, etc.)</text><rect fill="#FEFECE" filter="url(#f1t2xeqfh2hejj)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="405" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="412" y="72.5332">Identity Pool</text><rect fill="#FEFECE" filter="url(#f1t2xeqfh2hejj)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="405" y="491.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="412" y="513.416">Identity Pool</text><rect fill="#FEFECE" filter="url(#f1t2xeqfh2hejj)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="510" y="33.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="517" y="54.9238">AWS Resource</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="536" y="72.5332">(S3, etc.)</text><rect fill="#FEFECE" filter="url(#f1t2xeqfh2hejj)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="510" y="491.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="517" y="513.416">AWS Resource</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="536" y="531.0254">(S3, etc.)</text><rect fill="#FFFFFF" filter="url(#f1t2xeqfh2hejj)" height="107.4063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="164.5" y="229.7188"/><rect fill="#FFFFFF" filter="url(#f1t2xeqfh2hejj)" height="46.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="302" y="136.3125"/><rect fill="#FFFFFF" filter="url(#f1t2xeqfh2hejj)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="302" y="260.0703"/><rect fill="#FFFFFF" filter="url(#f1t2xeqfh2hejj)" height="46.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="447.5" y="383.8281"/><rect fill="#FFFFFF" filter="url(#f1t2xeqfh2hejj)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="562" y="460.8828"/><polygon fill="#A80036" points="290,132.3125,300,136.3125,290,140.3125,294,136.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="25.5" x2="296" y1="136.3125" y2="136.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40" x="32.5" y="115.1045">Log In</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="36.5" y="131.4561">{ user, password }</text><polygon fill="#A80036" points="36.5,179.0156,26.5,183.0156,36.5,187.0156,32.5,183.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="30.5" x2="306" y1="183.0156" y2="183.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="61" x="42.5" y="161.8076">Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="46.5" y="178.1592">{ provider_token }</text><polygon fill="#A80036" points="152.5,225.7188,162.5,229.7188,152.5,233.7188,156.5,229.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="25.5" x2="158.5" y1="229.7188" y2="229.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="80" x="32.5" y="208.5107">Authenticate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="36.5" y="224.8623">{ provider_token }</text><polygon fill="#A80036" points="290,256.0703,300,260.0703,290,264.0703,294,260.0703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="174.5" x2="296" y1="260.0703" y2="260.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="96" x="181.5" y="255.2139">Validate Token</text><polygon fill="#A80036" points="185.5,286.4219,175.5,290.4219,185.5,294.4219,181.5,290.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="179.5" x2="306" y1="290.4219" y2="290.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="61" x="191.5" y="285.5654">Response</text><polygon fill="#A80036" points="36.5,333.125,26.5,337.125,36.5,341.125,32.5,337.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="30.5" x2="168.5" y1="337.125" y2="337.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="61" x="42.5" y="315.917">Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="46.5" y="332.2686">{ user_pool_token }</text><polygon fill="#A80036" points="435.5,379.8281,445.5,383.8281,435.5,387.8281,439.5,383.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="25.5" x2="441.5" y1="383.8281" y2="383.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="106" x="32.5" y="362.6201">Exchange Token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="36.5" y="378.9717">{ user_pool_token }</text><polygon fill="#A80036" points="36.5,426.5313,26.5,430.5313,36.5,434.5313,32.5,430.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="30.5" x2="451.5" y1="430.5313" y2="430.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="61" x="42.5" y="409.3232">Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="46.5" y="425.6748">{ aws_token }</text><polygon fill="#A80036" points="550,456.8828,560,460.8828,550,464.8828,554,460.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="25.5" x2="556" y1="460.8828" y2="460.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="32.5" y="456.0264">Do Stuff</text><polygon fill="#A80036" points="36.5,470.8828,26.5,474.8828,36.5,478.8828,32.5,474.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="30.5" x2="566" y1="474.8828" y2="474.8828"/><!--MD5=[71b41d033b4cd6d4eada24c4ab09ddf6]
@startuml Cognito Authentication
actor "User" as user
participant "User Pool" as user_pool
participant "Identity Provider\n(Facebook, Google, etc.)" as identity_provider
participant "Identity Pool" as identity_pool
participant "AWS Resource\n(S3, etc.)" as aws

user -> identity_provider ++: **Log In**\n { user, password }
identity_provider - -> user - -: **Response**\n { provider_token }
user -> user_pool ++: **Authenticate**\n { provider_token }
user_pool -> identity_provider ++: **Validate Token**
identity_provider - -> user_pool - -: **Response**
user_pool - -> user - -: **Response**\n { user_pool_token }
user -> identity_pool ++: **Exchange Token**\n { user_pool_token }
identity_pool - -> user - -: **Response**\n { aws_token }
user -> aws ++: **Do Stuff**
aws - -> user - -:

@enduml

PlantUML version 1.2020.10(Sun May 17 05:35:57 EDT 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_221-b11
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>